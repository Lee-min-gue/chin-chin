---
name: github-push-notion-doc-sync
description: GitHub에 푸시한 변경을 기준으로 친친 개발 문서를 동기화한다. implementation-plan.md와 chinchin-prd.md를 점검/수정하고, Notion의 "프로젝트 프로세스" 및 "친친 개발 문서" 페이지를 최신 상태로 업데이트해야 할 때 사용한다. 사용자가 "푸시했으니 문서 업데이트", "노션까지 동기화", "PRD/구현계획 반영" 같은 요청을 하면 이 스킬을 트리거한다.
---

# Git Push Notion Doc Sync

GitHub 푸시 이후 문서 동기화를 일관되게 수행해라.

## Use This Workflow

1. 변경 범위를 확인해라.
2. 로컬 문서를 갱신해라.
3. Notion 두 페이지를 갱신해라.
4. 검증 결과를 사용자에게 보고해라.

## 1) 변경 범위 확인

아래 순서로 확인해라.

1. `git status --short --branch`로 워킹트리를 확인해라.
2. `git log --oneline -n 10`으로 최근 커밋을 확인해라.
3. `git show --name-only --oneline -n 1`로 최신 반영 파일을 확인해라.
4. `implementation-plan.md`와 `chinchin-prd.md`가 변경 필요 대상인지 판단해라.

문서 업데이트 근거가 약하면 사용자에게 범위를 명시해서 확인받아라.

## 2) 로컬 문서 동기화

`implementation-plan.md`와 `chinchin-prd.md`를 아래 기준으로 갱신해라.

1. 기능/정책/플로우 변경이 있으면 해당 섹션을 수정해라.
2. 완료된 항목은 체크 상태와 날짜/버전 문맥을 맞춰라.
3. 중복되거나 오래된 설명은 삭제해라.
4. 커밋 내용과 문서 내용이 상충하지 않게 맞춰라.

문서가 이미 최신이면 파일을 수정하지 말고 "변경 없음"으로 처리해라.

## 3) Notion 페이지 동기화

반드시 아래 두 페이지를 대상으로 작업해라.

1. `프로젝트 프로세스`
2. `친친 개발 문서`

### 페이지 식별 규칙

1. `notion-search`로 페이지를 찾고 제목 일치 결과를 우선 사용해라.
2. 동일 제목이 여러 개면 팀스페이스/최근 수정일 기준으로 가장 관련 높은 페이지를 선택해라.
3. 확신이 없으면 수정 전에 사용자 확인을 요청해라.

### 업데이트 규칙

1. 먼저 `notion-fetch`로 기존 내용을 읽어라.
2. 전체 덮어쓰기를 피하고, 기존 구조를 유지한 채 변경 구간만 업데이트해라.
3. 업데이트 문안은 `references/notion-update-template.md`를 기준으로 작성해라.
4. 아래 정보는 반드시 반영해라.
   - 동기화 날짜(로컬 날짜 기준)
   - 기준 커밋 SHA(짧은 SHA 가능)
   - 이번 변경 요약(3~7줄)
   - 문서 상태(완료/진행/보류)
5. 페이지 내 child page/database 삭제가 필요한 변경은 자동 진행하지 말고 사용자 확인 후 진행해라.

## 4) 최종 검증 및 보고

최종 응답에서 아래를 간단히 보고해라.

1. 로컬 파일 수정 여부 (`implementation-plan.md`, `chinchin-prd.md`)
2. Notion 업데이트 대상 페이지와 결과(성공/실패)
3. 실패 시 원인과 재시도 방법
4. 필요하면 다음 액션(예: 추가 푸시, 문구 확정 요청)

## Guardrails

1. 확인되지 않은 사실을 문서에 추가하지 마라.
2. 커밋되지 않은 코드 변경을 문서 완료로 표시하지 마라.
3. Notion 페이지를 찾지 못하면 임의 페이지를 만들지 말고 사용자에게 보고해라.
4. 노션 갱신 실패 시 로컬 문서 상태와 실패 원인을 분리해서 명확히 알려라.
